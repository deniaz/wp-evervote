(function(e,t){function r(e){n.log("-- Hi from EverVote!");this.button=e.button;this.countElement=e.count;this.addListeners()}var n={isEnabled:false,log:function(e){if(this.isEnabled&&window.console!=null){console.log(e)}}};r.prototype.addListeners=function(){var t=this;e(this.button).removeAttr("disabled");e(this.button).live("click",{scope:t},t.createAjaxRequest)};r.prototype.createAjaxRequest=function(r){var i=r.data.scope,s=e(this);n.log("-- EverVote Button was clicked");e.ajax({type:"POST",url:t.ajaxUrl,data:{action:"evervote",postID:s.attr("data-post-id"),everVoteNonce:t.everVoteNonce},success:function(t,r,s){e(i.countElement).text(t.votes);e(i.button).attr("disabled","disabled");n.log("-- AJAX Call succeeded");n.log(t)},error:function(e,t,r){n.log("-- AJAX Call failed.");n.log("--- Status: "+t);n.log("--- Error: "+r)}})};e(document).ready(function(){if(e("#evervote-btn").length>0){var t=new r({button:e("#evervote-btn"),count:e("#evervote-count")})}})})(jQuery,EverVoteConfig)